---
import { type TLayoutProps } from "@lib/types";
import { htmlClass } from "@lib/cssClasses";

import HeadElements from "@components/HeadElements/HeadElements.astro";
import Logo from "@components/Logo/Logo.astro";

const props: TLayoutProps = Astro.props;
---

<html lang={props.meta?.lang || "en"} class:list={["bg-stone-100", htmlClass, props.htmlClass]}>
  <head>
    <HeadElements meta={props.meta} />
  </head>

  <body class:list={[props.bodyClass]}>
    <div
      class="flex flex-col gap-y-10 py-10 2xs:gap-y-12 2xs:py-12 sm:gap-y-12 sm:px-4 sm:py-12 md:gap-y-14 md:py-14"
    >
      <div class="flex justify-center">
        <a
          href="/"
          class="focus-visible:rounded-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-[3px] focus-visible:outline-primary-600"
        >
          <Logo attributes={{ width: "40", height: "40" }} />
        </a>
      </div>
      <div class="flex justify-center">
        <div
          class="w-full bg-white px-4 pb-14 pt-14 shadow 2xs:px-6 2xs:pb-16 2xs:pt-16 sm:w-auto sm:rounded-lg sm:px-16 sm:py-20 md:px-24 md:py-28"
        >
          <div class="prose prose-sm prose-stone font-serif md:prose-base prose-p:text-pretty">
            <slot />
          </div>
        </div>
      </div>
    </div>

    <script>
      // NB: Demo only, not to be used in production!
      sessionStorage.setItem("lastPageSeen", window.location.href);
    </script>
  </body>
</html>
